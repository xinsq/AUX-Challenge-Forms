(function(){var b={mastercard:/^5[1-5]/,visa:/^4/,amex:/^3[47]/,discover:/^6/};function a(e){var d=e.target.value.replace(/\D/g,"");function f(g,h){document.getElementById(g).checked=h}for(var c in b){f(c,false);if(b[c].test(d)){f(c,true)}}}document.getElementById("cardNumber").addEventListener("keyup",a);document.getElementById("cardNumber").addEventListener("blur",a);Modernizr.load({test:Modernizr.input.required,nope:"parsley-standalone.min.js"})})();function validateNumber(){var a=document.getElementById("cardNumber").value.replace(/\D/g,"");function b(f){var h=0;var g;var d=f.length;for(i=d-1;i>=0;i--){var e=f[i]+"";g=parseInt(e);var c=d-1-i;h+=(c%2==0)?g:(g>4)?g*2%10+1:g*2}var j=((h%10)==0)?true:false;return j}if(b(a)==false){alert("Sorry, that was not a valid credit card number");return false}alert("Success!");return true};